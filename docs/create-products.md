# Create products

Let's create some products. Since we are going to use the same form for saving and updating products lets name it SaveProductForm.

From the command-line in the `exercise-files/create-products/` folder

```bash
touch src/components/SaveProductForm.vue
```

Then start of with the template
```html
<!-- src/components/SaveProductForm.vue  -->
<template>
  <form>
    <div class="form-group">
      <label for="productName">Product name</label>
      <input type="text" v-model="name" class="form-control" id="productName" maxlength="32" placeholder="Enter product name">
    </div>
    <div class="form-group">
      <label for="productDescription">Product description <small class="text-muted">(optional)</small></label>
      <textarea class="form-control" v-model="description" id="productDescription" rows="3" maxlength="128" placeholder="Enter description"></textarea>
    </div>
    <div class="form-group">
      <label for="price">Price</label>
      <input type="number" v-model="price" class="form-control" id="price" placeholder="Enter Price" number>
    </div>
    <button type="submit" v-on:click.prevent="onSubmit" class="btn btn-primary">Save product</button>
  </form>
</template>
```

It's just a very basic form with three text inputs and a save button. In this form we don't want to create or update a product until we press the save button so we are only going to use two-way binding within the component. This data binding is accomplished via the [`v-model`](https://vuejs.org/guide/forms.html) directive.

On the actual save button we are using the [`v-on`](https://vuejs.org/guide/events.html) directive to bind the `onSubmit()` method to a click event. We're also using the event modifier `.prevent` so we don't have to call `event.preventDefault()` from the `onSubmit()` handler to prevent default browser behavior when the button is clicked.

The actual component is not very complicated.
```html
<!-- src/components/SaveProductForm.vue  -->
<script>
import guid from 'guid';

export default {
  data () {
    return {
      name: '',
      description: '',
      price: ''
    }
  },
  methods: {
    onSubmit () {
      const product = {
        // The id is generated by the third-party library 'guid'
        id: guid.create(),
        name: this.name,
        description: this.description,
        price: this.price
      }

      console.log('product', product);
    }
  }
}
</script>

```
Just as before the `data()` function return some initial data and here we are introducing the new `methods` object which is just a set of functions that the `v-on` directive can bind to.

Import and add our new component into the ManageProducts component.
```html
<!-- src/components/ManageProducts.vue -->
<template>
  <save-product-form><save-product-form>
  <product-list></product-list>
</template>

<script>
import ProductList from './ProductList'
import SaveProductForm from './SaveProductForm'

export default {
  components: {
    ProductList,
    SaveProductForm
  }
}
</script>
```

By now you should be able to test this out but we are not actually doing anything with the data, except logging it to the console, so let's do that now.

There are several ways to connect these two components. Some possibilities are:
 1. Move the `SaveProductForm` component into the `ProductList` component and let the product list handle the state.
 2. Let the parent component handle the state and pass it as props.
 3. Implement a unidirectional flow and move state out of the components.

I'm sure there are more ways but for now we are going with option 2 and later on we are going to have a look at option 3.

Move the product data from the `ProductList` component to the `ManageProducts` component. In `src/components/ManageProducts`:

```html
<!-- src/components/ManageProducts.vue  -->
<template>
  <save-product-form :products="products"></save-product-form>
  <product-list :products="products"></product-list>
</template>

<script>
import ProductList from './ProductList';
import SaveProductForm from './SaveProductForm';

export default {
  components: {
    ProductList,
    SaveProductForm
  },

  data () {
    return {
      products: [
        {
          id: 'cc919e21-ae5b-5e1f-d023-c40ee669520c',
          name: 'COBOL 101 vintage',
          description: 'Learn COBOL with this vintage programming book',
          price: 399,
        },
        {
          id: 'bcd755a6-9a19-94e1-0a5d-426c0303454f',
          name: 'Sharp C2719 curved TV',
          description: 'Watch TV like never before with the brand new curved screen technology',
          price: 1995,
        },
        {
          id: '727026b7-7f2f-c5a0-ace9-cc227e686b8e',
          name: 'Remmington X mechanical keyboard',
          description: 'Excellent for gaming and typing, this Remmington X keyboard ' +
            'features tactile, clicky switches for speed and accuracy',
          price: 595,
        }
      ]
    }
  }
}
</script>
```
 Also note the addition of a new attribute in the `<product-list>` and `<save-product-form>` elements. This is how you pass [props](http://vuejs.org/guide/components.html#Props) down to a component.

 In the `ProductList` and `SaveProductForm` components we need to specify which props we accept with the props key.

 ```html
 <!-- src/components/ProductList.vue  -->
 <script>
 export default {
   props: ['products']
 }
 </script>
```

```html
<!-- src/components/SaveProductForm.vue  -->
<script>
...
export default {
	props: ['products'],
	...
}
</script>
```

Now that we have access to the product list all we need to do is push our new product object into it.

```html
<!-- src/components/SaveProductForm.vue  -->
<script>
...
export default {
	...
	methods: {
    onSubmit () {
      const product = {
        id: guid.create(),
        name: this.name,
        description: this.description,
        price: this.price
      }

      this.products.push(product);
    }
  }
}
</script>
```

There you have it. Fire up your browser and test it out! Next up we are going to modify our SaveProductForm component so that we can update existing products.
